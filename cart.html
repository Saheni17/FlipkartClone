<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Improved Flipkart-style Cart</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    * {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}
body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background-color: #f5f7fa;
  color: #333;
  padding-top: 80px; /* height of fixed header */
}

.header {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  background-color: #2874f0;
  padding: 16px 40px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  color: white;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.15);
  z-index: 999;
}


.logo {
  font-size: 28px;
  font-weight: 700;
}

.header-nav a {
  color: white;
  margin-left: 25px;
  text-decoration: none;
  font-size: 16px;
  transition: opacity 0.3s ease;
}

.header-nav a:hover {
  opacity: 0.85;
}
.header-nav a i {
  margin-right: 8px;
}
.container {
  display: flex;
  max-width: 1280px;
  margin: 30px auto 30px auto; /* Add top margin to clear fixed header */
  padding: 0 20px;
  gap: 24px;
  flex-wrap: wrap;
}


.cart-section,
.summary-section {
  background: #ffffff;
  border-radius: 10px;
  padding: 24px;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.06);
}

.cart-section {
  flex: 2;
  width: 100%;
}

.summary-section {
  flex: 1;
  position: sticky;
  top: 30px;
  min-width: 300px;
  height: fit-content;
}

.cart-item {
  display: flex;
  gap: 20px;
  border-bottom: 1px solid #e2e2e2;
  padding: 20px 0;
  transition: background 0.3s;
}

.cart-item:hover {
  background-color: #f8f9fb;
  border-radius: 10px;
}

.cart-item img {
  width: 130px;
  height: 160px;
  object-fit: cover;
  border-radius: 8px;
  border: 1px solid #ddd;
}

.item-details {
  flex: 1;
}

.item-details h3 {
  font-size: 18px;
  font-weight: 600;
  color: #212121;
  margin-bottom: 8px;
}

.item-details p {
  font-size: 14px;
  color: #555;
  margin-bottom: 6px;
}

.price-info {
  margin-top: 10px;
  font-size: 15px;
}

.original {
  text-decoration: line-through;
  color: #9e9e9e;
  margin-right: 10px;
}

.discounted {
  color: #212121;
  font-weight: 700;
  margin-right: 10px;
}

.offer {
  color: #388e3c;
  font-size: 14px;
  font-weight: 500;
}

.actions {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-top: 16px;
  flex-wrap: wrap;
}

.quantity-control {
  display: flex;
  align-items: center;
  border: 1px solid #ccc;
  border-radius: 6px;
  overflow: hidden;
}

.quantity-control button {
  padding: 8px 16px;
  border: none;
  background-color: #f0f0f0;
  font-size: 18px;
  cursor: pointer;
  font-weight: bold;
  transition: background-color 0.3s;
}

.quantity-control button:hover {
  background-color: #e0e0e0;
}

.quantity-control span {
  padding: 8px 16px;
  font-weight: 600;
  background: #fff;
}

.action-buttons button {
  background: none;
  border: none;
  color: #2874f0;
  font-weight: 600;
  cursor: pointer;
  margin-right: 12px;
  font-size: 14px;
  transition: color 0.2s ease;
}

.action-buttons button:hover {
  color: #0b57d0;
}

.place-order {
  margin-top: 30px;
  text-align: right;
}

.place-order button {
  background-color: #fb641b;
  color: #fff;
  padding: 14px 30px;
  border: none;
  border-radius: 6px;
  font-size: 16px;
  font-weight: 700;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
  transition: background 0.3s ease;
}

.place-order button:hover {
  background-color: #e55a16;
}

.summary-section h3 {
  font-size: 20px;
  font-weight: 700;
  margin-bottom: 20px;
  border-bottom: 2px solid #f0f0f0;
  padding-bottom: 10px;
  color: #444;
}

.summary-details p {
  display: flex;
  justify-content: space-between;
  margin: 12px 0;
  font-size: 15px;
  color: #555;
}

.summary-total {
  font-weight: 700;
  font-size: 16px;
  border-top: 1px dashed #ccc;
  padding-top: 16px;
  color: #212121;
}

.summary-savings {
  color: #388e3c;
  font-size: 14px;
  margin-top: 12px;
  font-weight: 500;
}

.modal {
  display: none;
  position: fixed;
  z-index: 9999;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.6);
  justify-content: center;
  align-items: center;
}

.modal-content {
  background: #fff;
  padding: 30px 40px;
  border-radius: 10px;
  text-align: center;
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.25);
  max-width: 400px;
  width: 90%;
}

.modal-content h2 {
  margin-bottom: 20px;
  font-size: 22px;
  color: #4caf50;
  font-weight: 700;
}

.modal-content button {
  background-color: #2874f0;
  color: white;
  border: none;
  padding: 10px 24px;
  font-size: 16px;
  border-radius: 6px;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

.modal-content button:hover {
  background-color: #1b5bbf;
}

@media (max-width: 768px) {
  .container {
    flex-direction: column;
    padding: 0 16px;
  }

  .cart-item {
    flex-direction: column;
    align-items: center;
    text-align: center;
  }

  .actions {
    flex-direction: column;
    align-items: flex-start;
    gap: 10px;
  }

  .place-order {
    text-align: center;
  }
}

  </style>
</head>
<body class="dark">
  <header class="header">
    <div class="logo"><i class="fas fa-shopping-cart"></i> Cart</div>
    <nav class="header-nav">
      <a href="index.html"><i class="fas fa-home"></i> Home</a>
      <a href="wishlist.html"><i class="fas fa-heart"></i> Wishlist</a>
    </nav>
  </header>

  <div class="container">
    <div class="cart-section">
      <h2 style="margin-bottom: 16px;">Your Cart</h2>
      <div id="cart-items"></div>
      <div class="place-order">
      <a href="flipkart-checkout.html">
  <button>PLACE ORDER</button>
</a>
      </div>

      <h2 style="margin: 30px 0 16px;">Saved For Later</h2>
      <div id="saved-items"></div>
    </div>

    <div class="summary-section">
      <h3>PRICE DETAILS</h3>
      <div class="summary-details">
        <p><span>Price (<span id="item-count">0</span> items)</span><span>â‚¹<span id="total-price">0</span></span></p>
        <p><span>Discount</span><span style="color: green;">â€“ â‚¹<span id="discount">0</span></span></p>
        <p><span>Platform Fee</span><span>â‚¹3</span></p>
        <p><span>Delivery Charges</span><span style="color: green;">Free</span></p>
        <p class="summary-total"><span>Total Amount</span><span>â‚¹<span id="final-total">0</span></span></p>
      </div>
      <div class="summary-savings" id="savings-text">You will save â‚¹0 on this order</div>
    </div>
  </div>

  <!-- Modal HTML -->
  <div id="orderModal" class="modal">
    <div class="modal-content">
      <h2>ðŸŽ‰ Congratulations! Your order is confirmed.</h2>
      <button onclick="closeOrderModal()">OK</button>
    </div>
  </div>

  <script>
    const cartItemsDiv = document.getElementById("cart-items");
    const totalPriceEl = document.getElementById("total-price");
    const discountEl = document.getElementById("discount");
    const finalTotalEl = document.getElementById("final-total");
    const itemCountEl = document.getElementById("item-count");
    const savingsText = document.getElementById("savings-text");

    let cart = JSON.parse(localStorage.getItem("cart")) || [{
      name: "METRONAUT Washed Men Crew Neck Grey T-Shirt",
      price: 448,
      originalPrice: 1299,
      image: "https://rukminim2.flixcart.com/image/832/832/kpinwy80/t-shirt/g/e/q/l-wm-ts-rn-hs-metronaut-original-imag3shgrkz2twgt.jpeg?q=70",
      size: "XL",
      quantity: 1
    }];

    let savedItems = JSON.parse(localStorage.getItem("savedItems")) || [];

    function renderCart() {
      cartItemsDiv.innerHTML = "";
      let total = 0;
      let originalTotal = 0;

      cart.forEach((item, index) => {
        const quantity = item.quantity || 1;
        const price = item.price || 0;
        const original = item.originalPrice || price;

        total += price * quantity;
        originalTotal += original * quantity;

        const div = document.createElement("div");
        div.classList.add("cart-item");
        div.innerHTML = `
          <img src="${item.image}" alt="Product Image" />
          <div class="item-details">
            <h3>${item.name}</h3>
            <p>Size: ${item.size || 'M'}</p>
            <p>Seller: Flipkart Retail</p>
            <p>Delivery by Sat Jun 14 | <span style="color: green;">Free</span></p>
            <div class="price-info">
              <span class="original">â‚¹${original}</span>
              <span class="discounted">â‚¹${price}</span>
              <span class="offer">${Math.round(100 - (price / original) * 100)}% Off</span>
            </div>
            <div class="actions">
              <div class="quantity-control">
                <button onclick="changeQty(${index}, -1)">âˆ’</button>
                <span>${quantity}</span>
                <button onclick="changeQty(${index}, 1)">+</button>
              </div>
              <div class="action-buttons">
                <button onclick="saveForLater(${index})">SAVE FOR LATER</button>
                <button onclick="removeItem(${index})">REMOVE</button>
              </div>
            </div>
          </div>
        `;
        cartItemsDiv.appendChild(div);
      });

      const discount = originalTotal - total;
      const finalTotal = total + 3;

      itemCountEl.innerText = cart.reduce((sum, item) => sum + (item.quantity || 1), 0);
      totalPriceEl.innerText = originalTotal;
      discountEl.innerText = discount;
      finalTotalEl.innerText = finalTotal;
      savingsText.innerText = `You will save â‚¹${discount} on this order`;

      localStorage.setItem("cart", JSON.stringify(cart));
    }

    function renderSavedItems() {
      const savedContainer = document.getElementById("saved-items");
      savedContainer.innerHTML = "";

      if (savedItems.length === 0) {
        savedContainer.innerHTML = "<p style='padding: 20px;'>No items saved for later.</p>";
        return;
      }

      savedItems.forEach((item, index) => {
        const div = document.createElement("div");
        div.classList.add("cart-item");
        div.innerHTML = `
          <img src="${item.image}" alt="Saved Product" />
          <div class="item-details">
            <h3>${item.name}</h3>
            <p>Size: ${item.size || 'M'}</p>
            <div class="price-info">
              <span class="original">â‚¹${item.originalPrice}</span>
              <span class="discounted">â‚¹${item.price}</span>
              <span class="offer">${Math.round(100 - (item.price / item.originalPrice) * 100)}% Off</span>
            </div>
            <div class="action-buttons" style="margin-top: 12px;">
              <button onclick="moveToCart(${index})">MOVE TO CART</button>
              <button onclick="removeSavedItem(${index})">REMOVE</button>
            </div>
          </div>
        `;
        savedContainer.appendChild(div);
      });

      localStorage.setItem("savedItems", JSON.stringify(savedItems));
    }

    function removeItem(index) {
      cart.splice(index, 1);
      renderCart();
    }

    function changeQty(index, delta) {
      cart[index].quantity = (cart[index].quantity || 1) + delta;
      if (cart[index].quantity < 1) cart[index].quantity = 1;
      renderCart();
    }

    function saveForLater(index) {
      const item = cart.splice(index, 1)[0];
      savedItems.push(item);
      renderCart();
      renderSavedItems();
    }

    function moveToCart(index) {
      const item = savedItems.splice(index, 1)[0];
      cart.push(item);
      renderCart();
      renderSavedItems();
    }

    function removeSavedItem(index) {
      savedItems.splice(index, 1);
      renderSavedItems();
    }

    function confirmOrder() {
      document.getElementById("orderModal").style.display = "flex";
    }

    function closeOrderModal() {
      document.getElementById("orderModal").style.display = "none";
      localStorage.removeItem("cart");
      cart = [];
      renderCart();
    }

    renderCart();
    renderSavedItems();
  </script>
</body>
</html>
