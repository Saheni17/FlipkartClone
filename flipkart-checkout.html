<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Flipkart Accordion Checkout</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap');

        :root {
            --primary-color: #2874f0;
            --secondary-color: #ff6e40;
            --success-color: #2e7d32;
            --danger-color: #d32f2f;
            --bg-light: #f5f6fa;
            --text-muted: #777;
            --font-main: 'Inter', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: var(--font-main);
        }

        body {
            background: var(--bg-light);
        }

        .header {
            background-color: var(--primary-color);
            padding: 16px 40px;
            color: white;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
        }

        .address-container {
            font-family: 'Segoe UI', sans-serif;
            background: #f5f6fa;
            padding: 20px;
        }

        .address-card {
            border: 1px solid #e2e2e2;
            border-radius: 8px;
            background-color: white;
            margin-bottom: 12px;
            padding: 16px;
            transition: background 0.3s;
        }

        .address-card.selected {
            background-color: #f1f8ff;
        }

        .address-radio {
            display: flex;
            align-items: flex-start;
            cursor: pointer;
        }

        .address-radio input[type="radio"] {
            margin-right: 12px;
            margin-top: 6px;
        }

        .address-content {
            flex: 1;
        }

        .address-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 6px;
        }

        .label-tag {
            font-size: 11px;
            color: #444;
            background: #eee;
            border-radius: 4px;
            padding: 2px 6px;
        }

        .phone {
            font-weight: 600;
            margin-left: auto;
        }

        .edit-link {
            margin-left: auto;
            font-size: 13px;
            color: #007aff;
            text-decoration: none;
            font-weight: 600;
        }

        .address-text {
            color: #333;
            font-size: 14px;
        }

        /* Layout container */
        .container {
            display: flex;
            width: 100%;
            margin-top: 100px;
            gap: 24px;
            padding: 0 24px;
        }

        /* Left section (main content) */
        .left {
            flex: 3;
        }

        /* Right section (order summary) */
        .right {
            flex: 1.3;
            position: sticky;
            top: 100px;
            height: fit-content;
            align-self: flex-start;
            background: white;
            padding: 24px;
            border-radius: 12px;
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.06);
        }

        /* Price details card */
        .price-details {
            background-color: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.04);
            border: 1px solid #e0e0e0;
        }

        .price-details h3 {
            color: var(--text-muted);
            font-size: 16px;
            margin-bottom: 16px;
        }

        .row {
            display: flex;
            justify-content: space-between;
            margin: 8px 0;
            font-size: 14px;
        }

        .total {
            font-weight: 600;
            font-size: 16px;
            margin: 16px 0 12px;
        }

        hr {
            border: none;
            border-top: 1px solid #e0e0e0;
        }

        .savings {
            color: green;
            font-size: 14px;
            background-color: #eaffea;
            padding: 10px;
            border-radius: 6px;
            margin: 10px 0;
        }

        .coins {
            background-color: #fff8e1;
            padding: 10px;
            font-size: 14px;
            border-radius: 6px;
            color: #333;
            margin-top: 5px;
        }

        /* Safe pay notice */
        .safe-pay {
            background: linear-gradient(135deg, #f7f8fc, #ffffff);
            margin-top: 16px;
            padding: 15px 20px;
            border-radius: 10px;
            font-size: 13px;
            color: #444;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            border: 1px solid #ddd;
            line-height: 1.5;
        }

        .safe-pay p {
            display: flex;
            align-items: center;
            font-weight: 600;
            margin-bottom: 6px;
        }

        .safe-pay p::before {
            content: 'üõ°Ô∏è';
            margin-right: 6px;
            font-size: 16px;
        }

        .safe-pay small {
            display: block;
            margin-top: 10px;
            color: #777;
        }

        .safe-pay a {
            color: var(--primary-color);
            text-decoration: none;
        }

        .safe-pay a:hover {
            text-decoration: underline;
        }

        /* Card styles */
        .step-card,
        .card {
            background: #fff;
            border-radius: 12px;
            margin-bottom: 15px;
            padding: 24px;
            border: 1px solid #eee;
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.04);
            transition: box-shadow 0.3s ease;
        }

        .step-card:hover,
        .card:hover {
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.06);
        }

        h2 {
            margin-bottom: 10px;
            font-size: 18px;
            color: var(--primary-color);
        }

        /* Accordion step headers */
        .step-header {
            padding: 18px 20px;
            background-color: var(--primary-color);
            color: white;
            font-weight: 600;
            font-size: 17px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            transition: background-color 0.3s;
            border-radius: 8px 8px 0 0;
        }

        .step-header.collapsed {
            background-color: #f1f2f4;
            color: #000;
            cursor: default;
        }

        .step-content {
            padding: 24px;
            border-top: 1px solid #ddd;
            background: #fff;
            transition: all 0.3s ease-in-out;
        }

        .collapsed+.step-content {
            display: none;
        }

        .add-address-trigger {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--primary-color);
            cursor: pointer;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            background: #f9f9f9;
            margin-bottom: 20px;
        }

        .address-box {
            padding: 16px;
            border: 2px solid #ccc;
            border-radius: 10px;
            margin-bottom: 12px;
            background: #f9f9f9;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .address-box:hover {
            border-color: var(--primary-color);
            background: #eaf4ff;
            box-shadow: 0 2px 12px rgba(40, 116, 240, 0.1);
        }

        .address-box.selected {
            border-color: var(--primary-color);
            background-color: #e3f2fd;
        }

        .payment-option {
            margin-bottom: 12px;
            padding: 10px;
            background-color: #f1f5f9;
            border-radius: 8px;
        }

        .payment-option label {
            font-weight: 600;
            display: block;
            margin-bottom: 4px;
        }

        .payment-option small {
            color: #555;
            font-size: 12px;
        }

        .delivery-summary {
            margin: 16px 0;
            background: #e0f7fa;
            padding: 12px;
            border-left: 4px solid #00796b;
            border-radius: 6px;
        }

        .order-confirmation {
            background-color: #fff7e6;
            padding: 12px;
            border-left: 4px solid #ffa000;
            border-radius: 6px;
            margin-bottom: 16px;
        }

        .place-order-btn {
            background-color: #2e7d32;
            color: white;
            padding: 12px 20px;
            border: none;
            font-weight: bold;
            border-radius: 6px;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .place-order-btn:hover {
            background-color: #1b5e20;
        }

        /* Buttons */
        .deliver-btn,
        .continue-btn,
        .place-order-btn,
        .add-new-address-btn {
            background: linear-gradient(to right, var(--secondary-color), #ff3d00);
            color: white;
            border: none;
            padding: 12px 24px;
            font-size: 15px;
            border-radius: 8px;
            font-weight: 600;
            transition: transform 0.2s ease, background 0.3s ease;
            box-shadow: 0 4px 12px rgba(255, 61, 0, 0.2);
            cursor: pointer;
        }

        .deliver-btn:hover,
        .continue-btn:hover,
        .place-order-btn:hover,
        .add-new-address-btn:hover {
            background: linear-gradient(to right, #ff3d00, var(--secondary-color));
            transform: translateY(-2px);
        }

        .change-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
        }

        .location-btn {
            background-color: var(--primary-color);
            color: white;
            padding: 10px 18px;
            border: none;
            border-radius: 6px;
            font-weight: bold;
            margin-bottom: 20px;
            cursor: pointer;
        }

        .form-row {
            display: flex;
            gap: 12px;
            margin-bottom: 16px;
        }

        .form-row input,
        .form-row select {
            flex: 1;
            padding: 10px;
            font-size: 14px;
            border: 1px solid #ccc;
            border-radius: 6px;
        }

        .add-new-form {
            margin-top: 20px;
            display: none;
            background: #ffffff;
            padding: 24px;
            border-radius: 10px;
            border: 1px solid #d1d1d1;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }

        .add-new-form textarea {
            width: 100%;
            padding: 10px;
            font-size: 14px;
            border-radius: 6px;
            border: 1px solid #ccc;
            resize: vertical;
            margin-bottom: 16px;
        }

        .address-type {
            margin: 15px 0;
            font-size: 14px;
            display: flex;
            gap: 30px;
        }

        .button-group {
            display: flex;
            justify-content: flex-start;
            gap: 20px;
        }

        .cancel-address-btn {
            background-color: transparent;
            color: var(--primary-color);
            border: none;
            font-weight: bold;
            cursor: pointer;
            text-decoration: underline;
        }

        .step-header.disabled {
            pointer-events: none;
            color: #ccc;
            cursor: not-allowed;
        }

        .step-header.disabled:hover {
            background-color: #f1f2f4;
        }

        /* Order Summary Card Section */
        #step3 .step-content {
            background: #fff;
            border-radius: 8px;
            padding: 24px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
        }

        /* Summary Item */
        .summary-item {
            display: flex;
            align-items: center;
            background: #f9f9f9;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 16px;
        }

        /* Product Thumbnail */
        .item-thumbnail {
            width: 60px;
            height: 60px;
            object-fit: cover;
            border-radius: 6px;
            margin-right: 16px;
        }

        /* Product Details */
        .item-details {
            flex: 1;
        }

        .item-name {
            font-size: 16px;
            font-weight: 500;
            color: #212121;
            margin-bottom: 6px;
        }

        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
        }

        .quantity-controls button {
            padding: 4px 12px;
            background: #eee;
            border: 1px solid #ccc;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }

        .quantity-controls button:hover {
            background: #ddd;
        }

        .item-price {
            font-size: 15px;
            font-weight: bold;
            color: var(--success-color);
        }

        #order-summary-pricing {
            background: #f1f2f4;
            padding: 16px;
            border-radius: 6px;
            margin-top: 20px;
            font-size: 15px;
            border: 1px solid #ddd;
        }

        #order-summary-pricing p,
        #order-summary-pricing strong {
            display: flex;
            justify-content: space-between;
            margin: 6px 0;
        }

        #order-summary-pricing .discount {
            color: var(--danger-color);
        }

        #order-summary-pricing .coupon {
            color: #1976d2;
            font-style: italic;
        }

        #order-summary-pricing strong {
            font-size: 17px;
            font-weight: 600;
            color: var(--success-color);
        }

        #order-summary-items::after {
            content: '';
            display: block;
            margin: 16px 0;
            border-top: 1px solid #ddd;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
                padding: 10px;
            }

            .left,
            .right {
                width: 100%;
                max-width: none;
            }

            .right {
                position: static;
                margin-top: 20px;
            }
        }
    </style>


</head>

<body>
    <div class="header">
        <img src="https://img1a.flixcart.com/www/linchpin/fk-cp-zion/img/fkplus_dd1443.svg" height="30" />
    </div>

    <main class="container">
        <div class="left">
            <div class="card">
                <h2>1 LOGIN ‚úî</h2>
                <p><strong>Flipkart Customer</strong> +91 7980714602</p>
            </div>

            <!-- STEP 2 -->
            <div class="step-card" id="step2">
                <div class="step-header">
                    <span onclick="toggleStep(2)">2 DELIVERY ADDRESS</span>
                    <button class="change-step-btn" onclick="unlockStep(2)" style="display: none;">Change</button>
                </div>
                <div class="step-content">
                    <div class="address-container">
                        <div class="address-card">
                            <label class="address-radio">
                                <input type="radio" name="address" onchange="selectAddress(this)" />
                                <div class="address-content">
                                    <div class="address-header">
                                        <strong>Saheni Saha</strong>
                                        <span class="label-tag">HOME</span>
                                        <span class="phone">7980714602</span>
                                    </div>
                                    <div class="address-text">
                                        Saha apartment, Baksra, Howrah, West Bengal - <strong>711110</strong>
                                    </div>
                                </div>
                            </label>
                            <div class="deliver-btn-container" style="display: none;">
                                <button class="deliver-btn" onclick="deliverAndRender()">DELIVER HERE</button>
                            </div>
                        </div>

                        <div class="address-card selected">
                            <label class="address-radio">
                                <input type="radio" name="address" checked onchange="selectAddress(this)" />
                                <div class="address-content">
                                    <div class="address-header">
                                        <strong>Payel Sen</strong>
                                        <span class="phone">7980714602</span>
                                        <a href="#" class="edit-link">EDIT</a>
                                    </div>
                                    <div class="address-text">
                                        North baksara, Faridpur block Howrah, Near palliunnyon samiti, Howrah -
                                        <strong>711110</strong>
                                    </div>
                                </div>
                            </label>
                            <div class="deliver-btn-container">
                                <button class="deliver-btn" onclick="deliverAndRender()">DELIVER HERE</button>
                            </div>
                        </div>
                    </div>

                    <div class="add-new-form" id="newAddressForm" style="display: none;">
                        <button class="location-btn">üìç Use my current location</button>
                        <div class="form-row">
                            <input type="text" placeholder="Name" />
                            <input type="text" placeholder="10-digit mobile number" />
                        </div>
                        <div class="form-row">
                            <input type="text" placeholder="Pincode" />
                            <input type="text" placeholder="Locality" />
                        </div>
                        <textarea placeholder="Address (Area and Street)"></textarea>
                        <div class="form-row">
                            <input type="text" placeholder="City/District/Town" />
                            <select>
                                <option>--Select State--</option>
                                <option>West Bengal</option>
                                <option>Maharashtra</option>
                                <option>Delhi</option>
                                <option>Tamil Nadu</option>
                                <option>Karnataka</option>
                            </select>
                        </div>
                        <div class="form-row">
                            <input type="text" placeholder="Landmark (Optional)" />
                            <input type="text" placeholder="Alternate Phone (Optional)" />
                        </div>
                        <div class="address-type">
                            <label><input type="radio" name="addressType" /> Home</label>
                            <label><input type="radio" name="addressType" /> Work</label>
                        </div>
                        <div class="button-group">
                            <button class="add-new-address-btn">SAVE AND DELIVER HERE</button>
                            <button class="cancel-address-btn" onclick="toggleNewAddressForm(false)">CANCEL</button>
                        </div>
                    </div>

                    <div class="add-address-trigger" onclick="toggleNewAddressForm(true)">
                        <span>‚ûï</span> <span>Add a new address</span>
                    </div>
                </div>
            </div>

            <!-- STEP 3 -->
            <div class="step-card" id="step3">
                <div class="step-header">
                    <span onclick="toggleStep(3)">3 ORDER SUMMARY</span>
                    <button class="change-step-btn" onclick="unlockStep(3)" style="display: none;">Change</button>
                </div>
                <div class="step-content">
                    <div id="order-summary-items"></div>
                    <div id="order-summary-pricing" style="margin-top: 16px;"></div>
                    <button class="continue-btn" onclick="goToNextStep(4)">CONTINUE TO PAYMENT</button>
                </div>
            </div>

            <!-- STEP 4 -->
            <div class="step-card" id="step4">
                <div class="step-header collapsed" onclick="toggleStep(4)">4 PAYMENT OPTIONS</div>
                <div class="step-content">
                    <div class="payment-option">
                        <label>
                            <input type="radio" name="payment" checked />
                            üí≥ <strong>Credit / Debit Card</strong><br />
                            <span class="desc">Secure payments using your Visa, MasterCard, or RuPay cards</span>
                        </label>
                    </div>

                    <div class="payment-option">
                        <label>
                            <input type="radio" name="payment" />
                            üè¶ <strong>Net Banking</strong><br />
                            <span class="desc">Pay directly from your bank account with supported banks</span>
                        </label>
                    </div>

                    <div class="payment-option">
                        <label>
                            <input type="radio" name="payment" />
                            üì± <strong>UPI (Google Pay, PhonePe, etc.)</strong><br />
                            <span class="desc">Fast and secure payments with no extra charges</span>
                        </label>
                    </div>

                    <div class="payment-option">
                        <label>
                            <input type="radio" name="payment" />
                            üíµ <strong>Cash on Delivery</strong><br />
                            <span class="desc">Pay with cash upon delivery. No online transaction required</span>
                        </label>
                    </div>

                    <div class="note">
                        <p>üïê <strong>Estimated Delivery:</strong> 2‚Äì4 days</p>
                        <p>üõ°Ô∏è 100% Secure Payments. Easy Returns & Refunds.</p>
                    </div>

                    <button class="place-order-btn">PLACE ORDER</button>
                </div>
            </div>
        </div>
        </div>

        <!-- RIGHT SECTION -->
        <!-- <div class="right">
      <div class="price-details">
        <h3>PRICE DETAILS</h3>
        <div class="row"><span>Price (18 items)</span><span>‚Çπ14,652</span></div>
        <div class="row"><span>Platform Fee</span><span>‚Çπ14</span></div>
        <hr />
        <div class="row total"><span>Total Payable</span><span>‚Çπ14,666</span></div>
        <div class="savings">Your Total Savings on this order ‚Çπ34,066</div>
        <div class="coins">‚ö° Save extra ‚Çπ25 using 25 Supercoins</div>
      </div>
        <div class="safe-pay">
                <p>Safe and Secure Payments. Easy returns. 100% Authentic products.</p>
                <small>
                    By continuing with the order, you confirm that you are above 18 years of age, and you agree to the
                    Flipkart‚Äôs
                    <a href="#">Terms of Use</a> and <a href="#">Privacy Policy</a>.
                </small>
            </div>
    </div> -->
        <div class="right">
            <div id="priceDetailsCard"></div>

            <div class="safe-pay">
                <p>Safe and Secure Payments. Easy returns. 100% Authentic products.</p>
                <small>
                    By continuing with the order, you confirm that you are above 18 years of age, and you agree to the
                    Flipkart‚Äôs <a href="#">Terms of Use</a> and <a href="#">Privacy Policy</a>.
                </small>
            </div>
        </div>
    </main>

    <script>
        function selectAddress(radioInput) {
            document.querySelectorAll(".address-card").forEach((card) => {
                card.classList.remove("selected");
                card.querySelector(".deliver-btn-container").style.display = "none";
            });

            const selectedCard = radioInput.closest(".address-card");
            selectedCard.classList.add("selected");
            selectedCard.querySelector(".deliver-btn-container").style.display = "block";
        }

        let currentStep = 2;
        const completedSteps = {};
        const lockedSteps = {};

        function toggleStep(step) {
            if (step === currentStep || lockedSteps[step]) return;
            if (!completedSteps[step - 1] && step !== 2) return;

            currentStep = step;
            updateSteps();
        }

        function goToNextStep(nextStep) {
            completedSteps[currentStep] = true;
            lockedSteps[currentStep] = true;

            const changeBtn = document.querySelector(`#step${currentStep} .change-step-btn`);
            if (changeBtn) changeBtn.style.display = "inline-block";

            currentStep = nextStep;
            updateSteps();
        }

        function unlockStep(step) {
            lockedSteps[step] = false;
            currentStep = step;

            const changeBtn = document.querySelector(`#step${step} .change-step-btn`);
            if (changeBtn) changeBtn.style.display = "none";

            const header = document.querySelector(`#step${step} .step-header`);
            const content = document.querySelector(`#step${step} .step-content`);
            header.classList.remove("collapsed", "disabled");
            content.style.display = "block";

            updateSteps();
        }

        function updateSteps() {
            for (let i = 2; i <= 4; i++) {
                const header = document.querySelector(`#step${i} .step-header`);
                const content = document.querySelector(`#step${i} .step-content`);

                if (i === currentStep) {
                    content.style.display = "block";
                    header.classList.remove("collapsed");
                } else {
                    content.style.display = "none";
                    header.classList.add("collapsed");
                }
            }
        }

        function toggleNewAddressForm(show = true) {
            const form = document.getElementById("newAddressForm");
            form.style.display = show ? "block" : "none";
        }

        function renderOrderSummary() {
            const cart = JSON.parse(localStorage.getItem("cart")) || [];
            const container = document.getElementById("order-summary-items");
            const pricing = document.getElementById("order-summary-pricing");

            container.innerHTML = "";
            pricing.innerHTML = "";

            let total = 0;
            let originalTotal = 0;

            if (cart.length === 0) {
                container.innerHTML = "<p>No items in your cart.</p>";
                return;
            }

            cart.forEach((item) => {
                const quantity = item.quantity || 1;
                const price = item.price || 0;
                const original = item.originalPrice || price;

                total += price * quantity;
                originalTotal += original * quantity;

                const div = document.createElement("div");
                div.className = "summary-item";
                div.innerHTML = `
          <img src="${item.image || "https://via.placeholder.com/60"}" class="item-thumbnail" />
          <div class="item-details">
            <p class="item-name">${item.name}</p>
            <div class="quantity-controls">
              <button onclick="updateQuantity('${item.id}', -1)">‚àí</button>
              <span>${quantity}</span>
              <button onclick="updateQuantity('${item.id}', 1)">+</button>
            </div>
            <p class="item-price">‚Çπ${price * quantity}</p>
          </div>
        `;
                container.appendChild(div);
            });

            const discount = originalTotal - total;
            const platformFee = 3;
            const finalTotal = total + platformFee;

            pricing.innerHTML = `
        <p>Price: <span>‚Çπ${originalTotal}</span></p>
        <p class="discount">Discount: <span>‚Äì ‚Çπ${discount}</span></p>
        <p class="coupon">Coupon Applied: <span>‚Çπ25 off</span></p>
        <p>Platform Fee: <span>‚Çπ${platformFee}</span></p>
        <strong><span>Total Payable</span><span>‚Çπ${finalTotal}</span></strong>
      `;
        }

        function updateQuantity(itemId, change) {
            const cart = JSON.parse(localStorage.getItem("cart")) || [];
            const itemIndex = cart.findIndex((item) => item.id === itemId);

            if (itemIndex > -1) {
                cart[itemIndex].quantity = Math.max(1, (cart[itemIndex].quantity || 1) + change);
                localStorage.setItem("cart", JSON.stringify(cart));
                renderOrderSummary();
            }
        }

        function deliverAndRender() {
            goToNextStep(3);
            renderOrderSummary();
        }

        updateSteps();
        renderOrderSummary();
        function renderOrderSummary() {
            const cart = JSON.parse(localStorage.getItem("cart")) || [];
            const container = document.getElementById("order-summary-items");
            const pricing = document.getElementById("order-summary-pricing");
            const rightCard = document.getElementById("priceDetailsCard");

            container.innerHTML = "";
            pricing.innerHTML = "";
            rightCard.innerHTML = "";

            let total = 0;
            let originalTotal = 0;

            if (cart.length === 0) {
                container.innerHTML = "<p>No items in your cart.</p>";
                rightCard.innerHTML = "<p>No price details available.</p>";
                return;
            }

            cart.forEach((item) => {
                const quantity = item.quantity || 1;
                const price = item.price || 0;
                const original = item.originalPrice || price;

                total += price * quantity;
                originalTotal += original * quantity;

                const div = document.createElement("div");
                div.className = "summary-item";
                div.innerHTML = `
      <img src="${item.image || "https://via.placeholder.com/60"}" class="item-thumbnail" />
      <div class="item-details">
        <p class="item-name">${item.name}</p>
        <div class="quantity-controls">
          <button onclick="updateQuantity('${item.id}', -1)">‚àí</button>
          <span>${quantity}</span>
          <button onclick="updateQuantity('${item.id}', 1)">+</button>
        </div>
        <p class="item-price">‚Çπ${price * quantity}</p>
      </div>
    `;
                container.appendChild(div);
            });

            const discount = originalTotal - total;
            const platformFee = 14;
            const finalTotal = total + platformFee;
            const savings = discount + 25066; // example extra savings

            // Left summary pricing
            pricing.innerHTML = `
    <p>Price: <span>‚Çπ${originalTotal}</span></p>
    <p class="discount">Discount: <span>‚Äì ‚Çπ${discount}</span></p>
    <p class="coupon">Coupon Applied: <span>‚Çπ25 off</span></p>
    <p>Platform Fee: <span>‚Çπ${platformFee}</span></p>
    <strong><span>Total Payable</span><span>‚Çπ${finalTotal}</span></strong>
  `;

            // Right price details card
            rightCard.innerHTML = `
    <div class="price-details">
      <h3>PRICE DETAILS</h3>
      <div class="row"><span>Price (${cart.length} items)</span><span>‚Çπ${originalTotal}</span></div>
      <div class="row"><span>Discount</span><span>‚Äì ‚Çπ${discount}</span></div>
      <div class="row"><span>Coupon Applied</span><span>‚Çπ25</span></div>
      <div class="row"><span>Platform Fee</span><span>‚Çπ${platformFee}</span></div>
      <hr />
      <div class="row total"><span>Total Payable</span><span>‚Çπ${finalTotal}</span></div>
      <div class="savings">Your Total Savings on this order ‚Çπ${savings}</div>
      <div class="coins">‚ö° Save extra ‚Çπ25 using 25 Supercoins</div>
    </div>
  `;
        }
        // Initial render
        renderOrderSummary();
    </script>

    <style>
        .deliver-btn-container {
            margin-top: 10px;
        }

        .change-step-btn {
            background: transparent;
            border: none;
            color: #1e40af;
            font-weight: 600;
            cursor: pointer;
            font-size: 14px;
            display: none;
        }

        .step-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: bold;
            margin-top: 20px;
        }

        .step-content {
            padding: 10px 0;
        }

        .collapsed {
            opacity: 0.5;
        }
    </style>
</body>


</html>